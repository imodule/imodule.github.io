<!DOCTYPE html>
<html>

<head>
	<title>Widget Content</title>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>
	<div class="container" id="app">
		<div class="banner-sale-container widgetBackgroundImage">
			<div class="banner-infoSale widgetBgInfo">
				<div class="banner-infoText">
					<p class="text-info widgetMore">
						GIẢM NGAY <span v-if="datas && datas.sale">{{record.sale}}</span>
					</p>
				</div>
			</div>
			<div class="banner-text">
				<div class="text-title">
					<div class="text-title1 widgetTitle">
						ƯU ĐÃI LỚN
					</div>
					<div class="text-title2 widgetBigTitle">
						SALE
					</div>
				</div>
				<div class="text-des widgetDescription">
					Tặng ngay món quà đặc biệt cho các khách hàng mua đơn hàng có giá trị từ 500.000đ

				</div>
				<div class="button-link widgetLink">
					<a href="#" class="button-href widgetButton">Xem ngay</a>
				</div>
			</div>
			<!-- <a target="blank" href="https://imodule.github.io" class="widgetPowerBy">imodule.github.io</a> -->
		</div>
	</div>
	<script>
		var $jscomp = $jscomp || {}; $jscomp.scope = {}; $jscomp.arrayIteratorImpl = function (a) { var b = 0; return function () { return b < a.length ? { done: !1, value: a[b++] } : { done: !0 } } }; $jscomp.arrayIterator = function (a) { return { next: $jscomp.arrayIteratorImpl(a) } }; $jscomp.makeIterator = function (a) { var b = "undefined" != typeof Symbol && Symbol.iterator && a[Symbol.iterator]; return b ? b.call(a) : $jscomp.arrayIterator(a) };
		function loadScript(a, b) { var c = document.createElement("script"); c.type = "text/javascript"; c.src = a; c.onreadystatechange = b; c.onload = b; document.head.appendChild(c) } function loadScripts(a, b) { for (var c = arguments, g = this, e = 0, h = function () { e++; e >= a.length && b.call(g, c) }, f = $jscomp.makeIterator(a), d = f.next(); !d.done; d = f.next())loadScript(d.value, h) };
	</script>
	<script>
		// init variable
		var options, styles, datas;
		// event
		var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
		var eventer = window[eventMethod];
		var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";
		eventer(messageEvent, function (e) {
			var _data = e.data || {};
			var _type = _data.type || "";
			console.log(_data)
			if (_type) {
				if (_type !== 'styles' || _type !== 'options' || _type !== 'datas') return;
				if (window.EventBus) {
					console.log(_data)
					window.EventBus.$emit(_type, _data.data);
				}
			}

		}, false);

		// init
		window.loadScripts(["/assets/js/vue.min.js"], function () {
			console.log('Init')
			init()
		});

		function init() {
			window.EventBus = new Vue();
			var app = new Vue({
				el: '#app',
				data: {
					options: options,
					styles: styles,
					datas: datas,
				},
				computed: {
					// a computed getter
					reversedMessage: function () {
						// `this` points to the vm instance
						return this.message.split('').reverse().join('')
					}
				},
				mounted: function () {
					this.init();
				},
				methods: {
					init: function () {
						var vm = this;
						var arr = ['options', 'styles', 'datas'];
						for (var i in arr) {
							window.EventBus.$on(arr[i], function (data) {
								vm[arr[i]] = data;
								console.log(vm[arr[i]])
							});
						};
					}
				}
			});
		}
	</script>
</body>

</html>