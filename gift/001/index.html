<!DOCTYPE html>
<html>

<head>
	<title>Widget Content</title>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>
	<div class="container" id="app">
		<div class="banner-sale-container widgetBackgroundImage">
			<div class="banner-infoSale widgetBgInfo">
				<div class="banner-infoText">
					<p class="text-info widgetMore">
						GIẢM NGAY 70%
					</p>
				</div>
			</div>
			<div class="banner-text">
				<div class="text-title">
					<div class="text-title1 widgetTitle">
						ƯU ĐÃI LỚN
					</div>
					<div class="text-title2 widgetBigTitle">
						SALE
					</div>
				</div>
				<div class="text-des widgetDescription">
					Tặng ngay món quà đặc biệt cho các khách hàng mua đơn hàng có giá trị từ 500.000đ

				</div>
				<div class="button-link widgetLink">
					<a href="#" class="button-href widgetButton">Xem ngay</a>
				</div>
			</div>
			<!-- <a target="blank" href="https://imodule.github.io" class="widgetPowerBy">imodule.github.io</a> -->
		</div>
		<script>
			var $jscomp = $jscomp || {}; $jscomp.scope = {}; $jscomp.arrayIteratorImpl = function (a) { var b = 0; return function () { return b < a.length ? { done: !1, value: a[b++] } : { done: !0 } } }; $jscomp.arrayIterator = function (a) { return { next: $jscomp.arrayIteratorImpl(a) } }; $jscomp.makeIterator = function (a) { var b = "undefined" != typeof Symbol && Symbol.iterator && a[Symbol.iterator]; return b ? b.call(a) : $jscomp.arrayIterator(a) };
			function loadScript(a, b) { var c = document.createElement("script"); c.type = "text/javascript"; c.src = a; c.onreadystatechange = b; c.onload = b; document.head.appendChild(c) } function loadScripts(a, b) { for (var c = arguments, g = this, e = 0, h = function () { e++; e >= a.length && b.call(g, c) }, f = $jscomp.makeIterator(a), d = f.next(); !d.done; d = f.next())loadScript(d.value, h) };
		</script>
		<script>
			// data
			var record = null;
			// event
			var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
			var eventer = window[eventMethod];
			var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";
			eventer(messageEvent, function (e) {
				console.log('parent received message!:  ', e.data);
				if (EventBus) {
					EventBus.$emit('data', e.data);
				}
				else {
					record = e.data;
				}

			}, false);

			// init
			if (window.parent) {
				if (window.parent.Vue) {
					window.Vue = window.parent.Vue;
					console.log('Init 1')
					init()
				}
				else {
					window.loadScripts(["/assets/core/vue.min.js"], function () {
						console.log('Init 2')
						init()
					});
				}
			}

			function init() {
				var EventBus = new Vue();
				var app = new Vue({
					el: '#app',
					data: {
						record: record,
					},
					computed: {
						// a computed getter
						reversedMessage: function () {
							// `this` points to the vm instance
							return this.message.split('').reverse().join('')
						}
					},
					mounted: function () {
						this.getData();
					},
					methods: {
						getData: function () {
							var vm = this;
							EventBus.$on('data', function (data) {
								console.log(data)
								vm.record = data;
							});
						}
					}
				});
			}
		</script>
</body>

</html>